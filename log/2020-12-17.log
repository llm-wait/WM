2020-12-17 18:15:04,351 INFO [root] [datastore.py (test_api:44] - 正在执行第1条用例
测试用例:正常添加部门
请求地址:http://114.242.60.27:8087/wm/sys/dept/addDept
请求方式:post
请求参数:{"dept_name":"测试部门",
 "dept_order":1,
 "dept_pid":"dept01",
 "flag":1}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '82', 'Content-Type': 'application/x-www-form-urlencoded'}
响应值:{'code': 200, 'message': '添加成功！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:55 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:04,351 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:04,878 INFO [root] [datastore.py (test_api:44] - 正在执行第2条用例
测试用例:添加重复部门
请求地址:http://114.242.60.27:8087/wm/sys/dept/addDept
请求方式:post
请求参数:{"dept_name":"测试部门",
 "dept_order":1,
 "dept_pid":"dept01",
 "flag":1}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '82', 'Content-Type': 'application/x-www-form-urlencoded'}
响应值:{'code': 1001, 'message': '部门已经存在！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:55 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:04,878 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:05,366 INFO [root] [datastore.py (test_api:44] - 正在执行第3条用例
测试用例:获取所有科室树形图
请求地址:http://114.242.60.27:8087/wm/sys/dept/getAllZuoyeshi
请求方式:get
请求参数:None
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
响应值:{'code': 200, 'message': '', 'data': {'id': '17a8caf4-ab7a-4fc1-8542-7d70d56457dd', 'pid': '-1', 'nodeID': '8c9baca807c04a1d88eb93708d9466a4', 'nodeName': '海图信息中心', 'nodeType': '部门', 'nodeTag': None, 'nodeOrder': None, 'childNodes': [{'id': 'b1411a0d-7324-4c3f-8db0-fa0681ba0e71', 'pid': '-1', 'nodeID': 'f18602be7ff14c918121d0fe7775fd51', 'nodeName': '中国海区制图室', 'nodeType': '部门', 'nodeTag': None, 'nodeOrder': None, 'childNodes': None}, {'id': 'c41b2be8-a884-45e3-a07a-6e8a4d81cf8b', 'pid': '-1', 'nodeID': '2d5343aa9bce448191de8a7aa86ec1dc', 'nodeName': '数据资料室', 'nodeType': '部门', 'nodeTag': None, 'nodeOrder': None, 'childNodes': None}]}}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:55 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:05,367 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:05,705 INFO [root] [datastore.py (test_api:44] - 正在执行第4条用例
测试用例:获取所有科室列表
请求地址:http://114.242.60.27:8087/wm/sys/dept/getAllZuoyeshiList
请求方式:get
请求参数:None
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
响应值:{'code': 200, 'message': '', 'data': [{'label': 'f18602be7ff14c918121d0fe7775fd51', 'prop': '中国海区制图室', 'visible': True}, {'label': '2d5343aa9bce448191de8a7aa86ec1dc', 'prop': '数据资料室', 'visible': True}]}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:56 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:05,707 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:06,001 INFO [root] [datastore.py (test_api:44] - 正在执行第5条用例
测试用例:输入正确部门ID获取部门信息
请求地址:http://114.242.60.27:8087/wm/sys/dept/getDeptInfo
请求方式:get
请求参数:{"dept_id":"e713467cf9ac45cbb7e9be3025cf0add"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
响应值:{'code': 1001, 'message': '此部门不存在！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:56 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:06,001 ERROR [root] [datastore.py (test_api:64] - 200 != 1001
2020-12-17 18:15:06,348 INFO [root] [datastore.py (test_api:44] - 正在执行第6条用例
测试用例:输入不存在的部门ID获取部门信息
请求地址:http://114.242.60.27:8087/wm/sys/dept/getDeptInfo
请求方式:get
请求参数:{"dept_id":"aaa"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
响应值:{'code': 1001, 'message': '此部门不存在！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:56 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:06,350 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:06,742 INFO [root] [datastore.py (test_api:44] - 正在执行第7条用例
测试用例:输入正确部门ID部门树列表
请求地址:http://114.242.60.27:8087/wm/sys/dept/getDeptTreeList
请求方式:get
请求参数:{"dept_id":"e713467cf9ac45cbb7e9be3025cf0add"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
响应值:{'code': 1001, 'message': '系统异常，请联系管理员！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Set-Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37; Path=/wm; HttpOnly', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:57 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:06,743 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:07,161 INFO [root] [datastore.py (test_api:44] - 正在执行第8条用例
测试用例:输入不正确部门ID部门树列表
请求地址:http://114.242.60.27:8087/wm/sys/dept/getDeptTreeList
请求方式:get
请求参数:{"dept_id":"aaa"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37'}
响应值:{'code': 1001, 'message': '系统异常，请联系管理员！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:57 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:07,164 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:07,526 INFO [root] [datastore.py (test_api:44] - 正在执行第9条用例
测试用例:获取部门下所有人员列表
请求地址:http://114.242.60.27:8087/wm/sys/dept/getDeptUserModelList
请求方式:get
请求参数:{"dept_id":"e713467cf9ac45cbb7e9be3025cf0add"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37'}
响应值:{'code': 200, 'message': 'success', 'data': []}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:57 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:07,526 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:07,929 INFO [root] [datastore.py (test_api:44] - 正在执行第10条用例
测试用例:输入不存在的部门ID获取部门下所有人员列表
请求地址:http://114.242.60.27:8087/wm/sys/dept/getDeptUserModelList
请求方式:get
请求参数:{"dept_id":"aaa"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37'}
响应值:{'code': 200, 'message': 'success', 'data': []}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:58 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:07,929 ERROR [root] [datastore.py (test_api:64] - 1001 != 200
2020-12-17 18:15:08,329 INFO [root] [datastore.py (test_api:44] - 正在执行第11条用例
测试用例:获取科室下所有部门
请求地址:http://114.242.60.27:8087/wm/sys/dept/getZuoyeshiDepts
请求方式:get
请求参数:{"dept_id":"aaa"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37'}
响应值:{'code': 200, 'message': 'success', 'data': []}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:58 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:08,329 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:08,692 INFO [root] [datastore.py (test_api:44] - 正在执行第12条用例
测试用例:更新部门信息
请求地址:http://114.242.60.27:8087/wm/sys/dept/updateDeptInfo
请求方式:post
请求参数:{
  "childDepts": [
    None
  ],
  "dept_id": "e713467cf9ac45cbb7e9be3025cf0add",
  "dept_name": "aaa1",
  "dept_order": 0,
  "dept_pid": "aaa",
  "flag": 0,
  "remark": "测试",
  "task_index_id": "a"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37', 'Content-Length': '185'}
响应值:{'code': 1001, 'message': '更新失败！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:58 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:08,692 ERROR [root] [datastore.py (test_api:64] - 200 != 1001
2020-12-17 18:15:09,006 INFO [root] [datastore.py (test_api:44] - 正在执行第13条用例
测试用例:输入正确的ID删除部门
请求地址:http://114.242.60.27:8087/wm/sys/dept/deleteDeptByID
请求方式:post
请求参数:{"dept_id":"e713467cf9ac45cbb7e9be3025cf0add"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37', 'Content-Length': '40', 'Content-Type': 'application/x-www-form-urlencoded'}
响应值:{'code': 1001, 'message': '删除失败！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:59 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:09,006 ERROR [root] [datastore.py (test_api:64] - 200 != 1001
2020-12-17 18:15:09,259 INFO [root] [datastore.py (test_api:44] - 正在执行第14条用例
测试用例:输入不存在的ID删除部门
请求地址:http://114.242.60.27:8087/wm/sys/dept/deleteDeptByID
请求方式:post
请求参数:{"dept_id":"111"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37', 'Content-Length': '11', 'Content-Type': 'application/x-www-form-urlencoded'}
响应值:{'code': 1001, 'message': '删除失败！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:59 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:09,259 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:09,852 INFO [root] [datastore.py (test_api:44] - 正在执行第1条用例
测试用例:添加岗位
请求地址:http://114.242.60.27:8087/wm/sys/station/addStation
请求方式:post
请求参数:{"station_name":"测试岗位3",
 "station_order":1}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37', 'Content-Length': '66', 'Content-Type': 'application/x-www-form-urlencoded'}
响应值:{'code': 200, 'message': '添加岗位成功！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:14:59 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:09,854 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:10,180 INFO [root] [datastore.py (test_api:44] - 正在执行第2条用例
测试用例:添加重复岗位
请求地址:http://114.242.60.27:8087/wm/sys/station/addStation
请求方式:post
请求参数:{"station_name":"测试岗位3",
 "station_order":1}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37', 'Content-Length': '66', 'Content-Type': 'application/x-www-form-urlencoded'}
响应值:{'code': 1001, 'message': '此岗位已经存在！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:15:00 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:10,180 INFO [root] [datastore.py (test_api:60] - 断言成功
2020-12-17 18:15:10,561 INFO [root] [datastore.py (test_api:44] - 正在执行第3条用例
测试用例:输入已存在的岗位ID获取岗位信息
请求地址:http://114.242.60.27:8087/wm/sys/station/getStationInfoByID
请求方式:get
请求参数:{"station_id":"53cc08d0478d4ec1b61dced300ab1472"}
请求头{'User-Agent': 'python-requests/2.24.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Cookie': 'JSESSIONID=1357976011AFBE6A666681B66EA97F37'}
响应值:{'code': 1001, 'message': '此岗位不存在！', 'data': None}
响应头:{'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 17 Dec 2020 10:15:00 GMT', 'Keep-Alive': 'timeout=20', 'Connection': 'keep-alive'}
2020-12-17 18:15:10,561 ERROR [root] [datastore.py (test_api:64] - 200 != 1001
